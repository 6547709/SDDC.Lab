##
##    Project: SDDC.Lab
##    Authors: Luis Chanu & Rutger Blom
##   Filename: utils/util_CreateSoftwareDir.yml
##
---
- hosts: localhost
  vars_files:
    - ../software.yml
    - ../config.yml
  tasks:
    - name: DEBUG -- Display Target Variables (Pause)
      pause:
        seconds: "{{ DEBUG.DisplayDelayInSeconds }}"
        prompt: |
          =================================== DEBUG: Display Variables ====================================

                                    Target.Deployment: {{ Target.Deployment }}

                                          Target.FQDN: {{ Target.FQDN }}
                                          Target.User: {{ Target.User }}
                                      Target.Password: {{ Target.Password }}
                                       Target.vSwitch: {{ Target.vSwitch }}
                                       Target.Cluster: {{ Target.Cluster }}
                                    Target.DataCenter: {{ Target.DataCenter }}

                               Software RootDirectory: {{ RootDirectory }}

          =================================================================================================
      when:
        - DEBUG.DisplayVariables == true
        - false


##
## VMware
##
    - name: Create VMware vCenter directories
      file:
        path: "{{ item.value.Location.Local }}"
        state: directory
        mode: "0777"
      loop: "{{ Software.VMware.vCenter.Installers | dict2items }}"

    - name: Create VMware ESXi directories
      file:
        path: "{{ item.value.Location.Local }}"
        state: directory
        mode: "0777"
      loop: "{{ Software.VMware.ESXi.Installers | dict2items }}"

    - name: Create VMware NSXT directories
      file:
        path: "{{ item.value.Location.Local }}"
        state: directory
        mode: "0777"
      loop: "{{ Software.VMware.NSXT.Installers | dict2items }}"

    - name: Create VMware vRLI directories
      file:
        path: "{{ item.value.Location.Local }}"
        state: directory
        mode: "0777"
      loop: "{{ Software.VMware.vRLI.Installers | dict2items }}"

    - name: Create Ubuntu directories
      file:
        path: "{{ item.value.Location.Local }}"
        state: directory
        mode: "0777"
      loop: "{{ Software.Ubuntu.DNSServer.Installers | dict2items }}"


##
## VyOS
##
    - name: Create VyOS directories
      file:
        path: "{{ item.value.Location.Local }}"
        state: directory
        mode: "0777"
      loop: "{{ Software.VyOS.Router.Installers | dict2items }}"

